{"remainingRequest":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/babel-loader/lib/index.js!/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/src/views/pages/components/ExternalUrl.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/src/views/pages/components/ExternalUrl.vue","mtime":1617441641275},{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'ExternalUrl',\n  data: function data() {\n    return {\n      extractionInProgress: false,\n      contentUrl: ''\n    };\n  },\n  methods: {\n    fetchText: function fetchText() {\n      var _this = this;\n\n      this.extractionInProgress = true;\n      this.$vs.loading({\n        background: 'primary',\n        color: '#fff',\n        container: '#url-with-loading',\n        scale: 0.4\n      });\n      this.$store.dispatch('studio/extractInfoFromUrl', {\n        url: this.contentUrl,\n        ext: null\n      }).then(function (data) {\n        _this.handleApiResponse(data);\n      }).catch(function () {\n        _this.$vs.notify({\n          title: 'Invalid URL',\n          text: 'No text found',\n          color: 'danger'\n        });\n      }).finally(function () {\n        _this.extractionInProgress = false;\n\n        _this.$vs.loading.close('#url-with-loading > .con-vs-loading');\n      });\n    },\n    handleApiResponse: function handleApiResponse(data) {\n      var _this2 = this;\n\n      this.$store.commit('studio/setInitialState');\n\n      if (data.slides) {\n        var scenes = {};\n        var videos = {};\n        var images = {};\n        var keywords = {};\n        this.$store.commit('studio/SET_VIDEO_ATTR', {\n          key: 'fromPPT',\n          value: true\n        });\n        var script = '';\n        Object.values(data.slides).forEach(function (_ref, index) {\n          var img_path = _ref.img_path,\n              text = _ref.text;\n          scenes[index] = '*No notes found in this slide*';\n          videos[index] = '';\n          images[index] = {\n            0: [img_path, 'slide', 'slide']\n          };\n          keywords[index] = [];\n          script += text;\n\n          _this2.$store.commit('studio/setInitialVideo', {\n            indexs: index,\n            value: img_path\n          });\n        });\n        this.$store.commit('studio/setSentences', scenes);\n        this.$store.commit('studio/setVideos', videos);\n        this.$store.commit('studio/setKeywords', keywords);\n        this.$store.commit('studio/setImages', images);\n        this.$store.commit('studio/setScript', script);\n      }\n\n      if (data.title) {\n        this.$store.commit('studio/SET_VIDEO_ATTR', {\n          key: 'title',\n          value: data.title\n        });\n      }\n\n      if (data.text) {\n        this.$store.commit('studio/setScript', data.text);\n      }\n\n      if (!this.uploadedDocumentIsPPT) {\n        this.$store.commit('studio/SET_TAB_INDEX', 0);\n      } else setTimeout(function () {\n        return _this2.$store.commit('studio/toggleLibrary');\n      }, 1000);\n    }\n  }\n};",{"version":3,"sources":["ExternalUrl.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <vx-card title=\"Create Video From URL\">\n    <div class=\"url-wrapper\">\n      <div>\n        <h4 class=\"mb-2 font-bold\" style=\"color: #6A6874;\">\n          Enter your URL Here\n        </h4>\n        <p style=\"color: #6a6874; white-space: normal\" class=\"mb-base\">\n          You can submit medium Link & blog Link etc.\n        </p>\n        <vx-input-group class=\"mb-4 text-left\">\n          <vs-input\n            v-model=\"contentUrl\"\n            class=\"text-primary\"\n            placeholder=\"Paste URL here\"\n            :disabled=\"extractionInProgress\"\n          />\n          <template slot=\"append\">\n            <div class=\"append-text btn-addon\">\n              <vs-button\n                color=\"primary\"\n                class=\"vs-con-loading__container\"\n                id=\"url-with-loading\"\n                :disabled=\"extractionInProgress\"\n                @click=\"fetchText\"\n                >Go</vs-button\n              >\n            </div>\n          </template>\n        </vx-input-group>\n      </div>\n    </div>\n  </vx-card>\n</template>\n<script>\nexport default {\n  name: 'ExternalUrl',\n  data() {\n    return {\n      extractionInProgress: false,\n      contentUrl: ''\n    };\n  },\n  methods: {\n    fetchText() {\n      this.extractionInProgress = true;\n      this.$vs.loading({\n        background: 'primary',\n        color: '#fff',\n        container: '#url-with-loading',\n        scale: 0.4\n      });\n      this.$store\n        .dispatch('studio/extractInfoFromUrl', {\n          url: this.contentUrl,\n          ext: null\n        })\n        .then(data => {\n          this.handleApiResponse(data);\n        })\n        .catch(() => {\n          this.$vs.notify({\n            title: 'Invalid URL',\n            text: 'No text found',\n            color: 'danger'\n          });\n        })\n        .finally(() => {\n          this.extractionInProgress = false;\n          this.$vs.loading.close('#url-with-loading > .con-vs-loading');\n        });\n    },\n    handleApiResponse(data) {\n      this.$store.commit('studio/setInitialState');\n      if (data.slides) {\n        const scenes = {};\n        const videos = {};\n        const images = {};\n        const keywords = {};\n        this.$store.commit('studio/SET_VIDEO_ATTR', {\n          key: 'fromPPT',\n          value: true\n        });\n        let script = '';\n        Object.values(data.slides).forEach(({ img_path, text }, index) => {\n          scenes[index] = '*No notes found in this slide*';\n          videos[index] = '';\n          images[index] = { 0: [img_path, 'slide', 'slide'] };\n          keywords[index] = [];\n          script += text;\n          this.$store.commit('studio/setInitialVideo', {\n            indexs: index,\n            value: img_path\n          });\n        });\n        this.$store.commit('studio/setSentences', scenes);\n        this.$store.commit('studio/setVideos', videos);\n        this.$store.commit('studio/setKeywords', keywords);\n        this.$store.commit('studio/setImages', images);\n        this.$store.commit('studio/setScript', script);\n      }\n      if (data.title) {\n        this.$store.commit('studio/SET_VIDEO_ATTR', {\n          key: 'title',\n          value: data.title\n        });\n      }\n      if (data.text) {\n        this.$store.commit('studio/setScript', data.text);\n      }\n      if (!this.uploadedDocumentIsPPT) {\n        this.$store.commit('studio/SET_TAB_INDEX', 0);\n      } else setTimeout(() => this.$store.commit('studio/toggleLibrary'), 1000);\n    }\n  }\n};\n</script>\n<style scoped>\n.url-wrapper {\n  height: 400px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px;\n  border: 1px solid rgba(114, 71, 196, 0.16);\n  border-radius: 6px;\n}\n</style>\n"],"sourceRoot":"src/views/pages/components"}]}