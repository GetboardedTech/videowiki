{"remainingRequest":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/babel-loader/lib/index.js!/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/src/views/pages/SelectMedia.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/src/views/pages/SelectMedia.vue","mtime":1617441641275},{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/falcon-puneet/Documents/Arbunize/videowiki/video-wiki-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es7.array.includes\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport SearchModal from '@/components/search/SearchModal';\nimport VideoNotFound from '@/components/VideoNotFound';\nimport VxCard from \"../../components/vx-card/VxCard.vue\";\nexport default {\n  name: 'SelectVideos',\n  components: {\n    VxCard: VxCard,\n    VideoNotFound: VideoNotFound,\n    SearchModal: SearchModal\n  },\n  // data() {\n  //   return {\n  //     customTxtvalue: ''\n  //   };\n  // },\n  data: function data() {\n    return {\n      selectedFile: null,\n      showSearchModal: false,\n      currentScene: null,\n      mediaType: 'video'\n    };\n  },\n  computed: {\n    selectedFromLibraryVideos: function selectedFromLibraryVideos() {\n      return this.$store.state.studio.selectedFromLibraryVideos;\n    },\n\n    /* sceneImage() {\n      return this.$store.state.studio.sceneImage;\n    }, */\n    insideIframe: function insideIframe() {\n      return this.$store.state.insideIframe;\n    }\n  },\n  methods: {\n    /* callSetSceneImage(index, value) {\n      this.$store.commit('studio/setSceneImage', {\n        index: parseInt(index),\n        value: value,\n      });\n    }, */\n    isImageUrl: function isImageUrl(urlString) {\n      var imgExtentions = ['jpg', 'png', 'jpeg'];\n      urlString = new URL(urlString);\n      return imgExtentions.includes(urlString.pathname.split('.')[1]);\n    },\n    isValidUrl: function isValidUrl(indexs) {\n      var mediaUrl = this.selectedFromLibraryVideos[parseInt(indexs) + 1];\n\n      if (!mediaUrl) {\n        var payload = this.initialVideo(indexs);\n        this.$store.commit('studio/setInitialVideo', payload);\n        return !!payload.value;\n      }\n\n      return true;\n    },\n    loadSearchModal: function loadSearchModal(index) {\n      this.showSearchModal = true;\n      this.currentScene = index;\n    },\n    initialVideo: function initialVideo(indexs) {\n      var dataObj = {\n        indexs: parseInt(indexs),\n        value: null\n      };\n\n      if (Object.keys(this.$store.state.studio.videos[parseInt(indexs)]).length > 0) {\n        var videoUrl = this.$store.state.studio.videos[parseInt(indexs)][0][1];\n        var url = videoUrl.split('.');\n        if (url[url.length - 1] !== 'gif') dataObj.value = videoUrl;\n      }\n\n      return dataObj;\n    },\n    updateScroll: function updateScroll() {\n      // let scrollPosition = window.scrollY\n      // console.log(scrollPosition)\n      for (var s in this.$store.state.studio.scenes) {\n        var rect = document.getElementById('scene_card_' + s).getBoundingClientRect(); // console.log(s, \"bounding client\", rect.top, rect.bottom);\n\n        if (rect.top < 200 && rect.bottom > (this.insideIframe ? 420 : 500)) {\n          // console.log(s+\" is active\")\n          // this.$store.commit('studio/removeSearchedVideos');\n          this.$store.commit('studio/setActiveScene', parseInt(s) + 1);\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    window.addEventListener('scroll', this.updateScroll, {\n      passive: true\n    });\n    var el = document.getElementById(\"scene_card_\".concat(this.$store.state.studio.currentActiveScene - 1));\n    el.scrollIntoView({\n      block: 'center'\n    });\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener('scroll', this.updateScroll);\n  }\n};",{"version":3,"sources":["SelectMedia.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA,OAAA,WAAA,MAAA,iCAAA;AACA,OAAA,aAAA,MAAA,4BAAA;AACA,OAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,aAAA,EAAA,aAFA;AAGA,IAAA,WAAA,EAAA;AAHA,GAFA;AAOA;AACA;AACA;AACA;AACA;AACA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,eAAA,EAAA,KAFA;AAGA,MAAA,YAAA,EAAA,IAHA;AAIA,MAAA,SAAA,EAAA;AAJA,KAAA;AAMA,GAnBA;AAoBA,EAAA,QAAA,EAAA;AACA,IAAA,yBADA,uCACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,yBAAA;AACA,KAHA;;AAIA;AACA;AACA;AACA,IAAA,YAPA,0BAOA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA;AACA;AATA,GApBA;AA+BA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,UAPA,sBAOA,SAPA,EAOA;AACA,UAAA,aAAA,GAAA,CAAA,KAAA,EAAA,KAAA,EAAA,MAAA,CAAA;AACA,MAAA,SAAA,GAAA,IAAA,GAAA,CAAA,SAAA,CAAA;AACA,aAAA,aAAA,CAAA,QAAA,CAAA,SAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAXA;AAYA,IAAA,UAZA,sBAYA,MAZA,EAYA;AACA,UAAA,QAAA,GAAA,KAAA,yBAAA,CAAA,QAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA;;AACA,UAAA,CAAA,QAAA,EAAA;AACA,YAAA,OAAA,GAAA,KAAA,YAAA,CAAA,MAAA,CAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,wBAAA,EAAA,OAAA;AACA,eAAA,CAAA,CAAA,OAAA,CAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA,KApBA;AAqBA,IAAA,eArBA,2BAqBA,KArBA,EAqBA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KAxBA;AAyBA,IAAA,YAzBA,wBAyBA,MAzBA,EAyBA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,MAAA,EAAA,QAAA,CAAA,MAAA,CADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAAA;;AAIA,UACA,MAAA,CAAA,IAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,GACA,CAFA,EAGA;AACA,YAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CACA,QAAA,CAAA,MAAA,CADA,EAEA,CAFA,EAEA,CAFA,CAAA;AAGA,YAAA,GAAA,GAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,YAAA,GAAA,CAAA,GAAA,CAAA,MAAA,GAAA,CAAA,CAAA,KAAA,KAAA,EAAA,OAAA,CAAA,KAAA,GAAA,QAAA;AACA;;AACA,aAAA,OAAA;AACA,KAzCA;AA0CA,IAAA,YA1CA,0BA0CA;AACA;AACA;AACA,WAAA,IAAA,CAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA,YAAA,IAAA,GAAA,QAAA,CACA,cADA,CACA,gBAAA,CADA,EAEA,qBAFA,EAAA,CADA,CAIA;;AACA,YAAA,IAAA,CAAA,GAAA,GAAA,GAAA,IAAA,IAAA,CAAA,MAAA,IAAA,KAAA,YAAA,GAAA,GAAA,GAAA,GAAA,CAAA,EAAA;AACA;AACA;AACA,eAAA,MAAA,CAAA,MAAA,CAAA,uBAAA,EAAA,QAAA,CAAA,CAAA,CAAA,GAAA,CAAA;AACA;AACA;AACA;AAxDA,GA/BA;AAyFA,EAAA,OAzFA,qBAyFA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,YAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAAA;AACA,QAAA,EAAA,GAAA,QAAA,CAAA,cAAA,sBACA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,kBAAA,GAAA,CADA,EAAA;AAGA,IAAA,EAAA,CAAA,cAAA,CAAA;AAAA,MAAA,KAAA,EAAA;AAAA,KAAA;AACA,GA/FA;AAgGA,EAAA,SAhGA,uBAgGA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,YAAA;AACA;AAlGA,CAAA","sourcesContent":["<template>\n  <div class=\"select-media\">\n    <template v-for=\"(s, indexs) in $store.state.studio.scenes\">\n      <vx-card\n        :key=\"indexs\"\n        :id=\"'scene_card_' + indexs\"\n        class=\"scene-card\"\n        :class=\"{\n          activeScene:\n            $store.state.studio.currentActiveScene === parseInt(indexs) + 1\n        }\"\n      >\n        <p class=\"font-semibold items-left mb-base\" style=\"white-space: normal\">\n          {{ s }}\n        </p>\n        <div>\n          <!--v-if=\"selectedFromLibraryVideos[parseInt(indexs) + 1] !== undefined\"-->\n          <!--video\n          v-show=\"!sceneImage[parseInt(indexs)]\"\n          width=\"100%\"\n          height=\"auto\"\n          controls\n          preload=\"auto\"\n          id=\"link\"\n          :src=\"\n            selectedFromLibraryVideos[parseInt(indexs) + 1] ||\n            initialVideo(indexs)\n          \"\n          @loadstart=\"callSetSceneImage(indexs, false)\"\n          @error=\"callSetSceneImage(indexs, true)\"\n        >\n          {{ $t('studio.errors.e1') }}\n        </video>\n        <img\n          v-show=\"sceneImage[parseInt(indexs)]\"\n          width=\"100%\"\n          height=\"auto\"\n          src=\"https://oldweb.dyu.edu.tw/english/design/no-video.gif\"\n        /-->\n          <template v-if=\"isValidUrl(indexs)\">\n            <img\n              width=\"100%\"\n              height=\"auto\"\n              class=\"image-frame\"\n              v-if=\"isImageUrl(selectedFromLibraryVideos[parseInt(indexs) + 1])\"\n              :src=\"selectedFromLibraryVideos[parseInt(indexs) + 1]\"\n            />\n            <video\n              width=\"100%\"\n              height=\"auto\"\n              controls\n              v-else\n              preload=\"auto\"\n              :id=\"`library_video_${indexs}`\"\n              :src=\"selectedFromLibraryVideos[parseInt(indexs) + 1]\"\n            >\n              {{ $t('studio.errors.e1') }}\n            </video>\n          </template>\n          <div\n            v-else\n            class=\"bg-box relative vs-con-loading__container\"\n            :id=\"`upload_scene_${parseInt(indexs) + 1}`\"\n          >\n            <VideoNotFound\n              :sceneNum=\"parseInt(indexs) + 1\"\n              @search=\"loadSearchModal($event)\"\n            />\n          </div>\n        </div>\n        <!--div v-else>\n        <video\n          width=\"100%\"\n          height=\"auto\"\n          id=\"initialVideo\"\n          preload=\"auto\"\n          controls\n          :src=\"initialVideo(indexs)\"\n          $commit('studio/setSceneImage',true)\n          $commit('studio/setSceneImage',false)\n        >\n          {{ $t('studio.errors.e1') }}\n        </video>\n      </div-->\n      </vx-card>\n    </template>\n    <SearchModal\n      :showModal.sync=\"showSearchModal\"\n      :sceneNum=\"currentScene\"\n      @close=\"showSearchModal = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport SearchModal from '@/components/search/SearchModal';\nimport VideoNotFound from '@/components/VideoNotFound';\nimport VxCard from '../../components/vx-card/VxCard.vue';\nexport default {\n  name: 'SelectVideos',\n  components: {\n    VxCard,\n    VideoNotFound,\n    SearchModal\n  },\n  // data() {\n  //   return {\n  //     customTxtvalue: ''\n  //   };\n  // },\n  data() {\n    return {\n      selectedFile: null,\n      showSearchModal: false,\n      currentScene: null,\n      mediaType: 'video'\n    };\n  },\n  computed: {\n    selectedFromLibraryVideos() {\n      return this.$store.state.studio.selectedFromLibraryVideos;\n    },\n    /* sceneImage() {\n      return this.$store.state.studio.sceneImage;\n    }, */\n    insideIframe() {\n      return this.$store.state.insideIframe;\n    }\n  },\n  methods: {\n    /* callSetSceneImage(index, value) {\n      this.$store.commit('studio/setSceneImage', {\n        index: parseInt(index),\n        value: value,\n      });\n    }, */\n    isImageUrl(urlString) {\n      const imgExtentions = ['jpg', 'png', 'jpeg'];\n      urlString = new URL(urlString);\n      return imgExtentions.includes(urlString.pathname.split('.')[1]);\n    },\n    isValidUrl(indexs) {\n      const mediaUrl = this.selectedFromLibraryVideos[parseInt(indexs) + 1];\n      if (!mediaUrl) {\n        const payload = this.initialVideo(indexs);\n        this.$store.commit('studio/setInitialVideo', payload);\n        return !!payload.value;\n      }\n      return true;\n    },\n    loadSearchModal(index) {\n      this.showSearchModal = true;\n      this.currentScene = index;\n    },\n    initialVideo(indexs) {\n      const dataObj = {\n        indexs: parseInt(indexs),\n        value: null\n      };\n      if (\n        Object.keys(this.$store.state.studio.videos[parseInt(indexs)]).length >\n        0\n      ) {\n        const videoUrl = this.$store.state.studio.videos[\n          parseInt(indexs)\n        ][0][1];\n        const url = videoUrl.split('.');\n        if (url[url.length - 1] !== 'gif') dataObj.value = videoUrl;\n      }\n      return dataObj;\n    },\n    updateScroll() {\n      // let scrollPosition = window.scrollY\n      // console.log(scrollPosition)\n      for (const s in this.$store.state.studio.scenes) {\n        const rect = document\n          .getElementById('scene_card_' + s)\n          .getBoundingClientRect();\n        // console.log(s, \"bounding client\", rect.top, rect.bottom);\n        if (rect.top < 200 && rect.bottom > (this.insideIframe ? 420 : 500)) {\n          // console.log(s+\" is active\")\n          // this.$store.commit('studio/removeSearchedVideos');\n          this.$store.commit('studio/setActiveScene', parseInt(s) + 1);\n        }\n      }\n    }\n  },\n  mounted() {\n    window.addEventListener('scroll', this.updateScroll, { passive: true });\n    const el = document.getElementById(\n      `scene_card_${this.$store.state.studio.currentActiveScene - 1}`\n    );\n    el.scrollIntoView({ block: 'center' });\n  },\n  destroyed() {\n    window.removeEventListener('scroll', this.updateScroll);\n  }\n};\n</script>\n\n<style scoped>\n.select-media {\n  margin-bottom: 12rem;\n}\n.scene-card {\n  min-height: 30rem;\n  /*background: #7367F0;\n    color: white;*/\n  opacity: 0.2;\n  box-shadow: none;\n  margin-bottom: 10rem;\n}\n.activeScene {\n  box-shadow: 0px 4px 25px 0px rgba(0, 0, 0, 0.1) !important;\n  -webkit-box-shadow: 0px 4px 25px 0px rgba(0, 0, 0, 0.1) !important;\n  opacity: 1 !important;\n}\n.group-card {\n  position: relative;\n}\n.scene-edit-card {\n  position: absolute;\n  opacity: 0.2;\n  box-shadow: none;\n  height: 45px;\n  width: 100px;\n  bottom: -60px;\n  right: 43%;\n}\n.bg-box {\n  height: 336px;\n  display: flex;\n  justify-content: center;\n  background: #b9b9b9;\n}\n</style>\n"],"sourceRoot":"src/views/pages"}]}